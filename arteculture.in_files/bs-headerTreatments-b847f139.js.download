define("@widget/LAYOUT/c/bs-headerTreatments-b847f139.js",["exports","~/c/bs-overlayTypes"],(function(t,e){"use strict";const{imageDimensionConfig:n,FIT_IMAGE:i,LANDSCAPE:r,CIRCLE:o}=(global.Core||guac["@wsb/guac-widget-core"]).constants.imageDimensions,a=n[r].aspectRatio,u=o,c=[1,1.5,2,3],s=/[.-]wsimg\.com\//;function l(t){return!!s.test(t)}function g(t){let e;if(!t||!l(t))return e;const n=[],i=t.split(/(h:|w:)([\d.]+)(,|\/|$)/g),r=i.length;let o=0;for(let t=2;t<r;t+=4)c.forEach(((e,r)=>{n[r]=(n[r]||"")+i.slice(o,t).join("")+parseFloat(i[t])*e})),o=t+1;try{e=n.map(((e,n)=>{if(e+=i.slice(o,r).join(""),1!==c[n])e+=` ${c[n]}x`;else if(e!==t)throw new Error([t,e]);return e})).join(",\n")}catch(t){}return e||void 0}function d(t){return t?t.split("/").filter(Boolean).map((t=>{const[e,n]=t.split("=");return{name:e,value:n}})):[]}function p(t){return null==t?[]:"string"==typeof t?d(t):Array.isArray(t)?t:Object.entries(t).map((([t,e])=>({name:t,value:e})))}function f(t,e){const n=function(t){if(!l(t))return null;const[e,n]=t.split("/:/");return{source:e,operations:d(n)}}(t);return null==n?t:function({source:t,operations:e}){if(null==e)return t;const n=e.map((({name:t,value:e})=>null==e?t:`${t}=${e}`)).join("/");return n?t+"/:/"+n:t}({source:n.source,operations:[...n.operations,...p(e)]})}function h(t){return l(t)?t:function(t=""){return t.split("/:/")[0]}(t)}const{headerTreatments:{FILL:m,FIT:w,INSET:b,BLUR:I,LEGACY_BLUR:C}}=(global.Core||guac["@wsb/guac-widget-core"]).constants;t.B=I,t.C=s,t.F=m,t.I=b,t.L=C,t.a=f,t.b=w,t.c=h,t.d=function(t={}){const{outputWidth:e,outputHeight:r,imageDimension:o,enableImageDimension:a}=t,u={},c={...t};if(o)if(o===i)delete c.outputHeight,delete c.editedAspectRatio,u.borderRadius=0;else{const{aspectRatio:t,borderRadius:i}=n[o]||{};t&&e?c.outputHeight=e/t:t&&r&&(c.outputWidth=r*t),u.borderRadius=i}return{imageDimensionStyles:u,parsedImageData:c,enableImageDimension:a}},t.e=function(t,e,n){return"string"==typeof((null==t?void 0:t.imageUrl)||(null==t?void 0:t.image))?(global.Core||guac["@wsb/guac-widget-core"]).utils.generateImageServiceUrl(t):null!=n&&n.fallbackBackgroundImageSrc?n.fallbackBackgroundImageSrc.replace(/\{(width|height)\}/g,"+0"):e||""},t.f=g,t.g=function(t,e=!0){return h(e?(global.Core||guac["@wsb/guac-widget-core"]).utils.generateBackgroundUrl(t):(global.Core||guac["@wsb/guac-widget-core"]).utils.generateBackgroundUrl(t).replace(/\/rs=w:{width},h:{height},cg:true,m\/cr=w:{width},h:{height},a[x]?:[^/]*/,"").replace(/\/:$/,""))},t.h=function(t,e){return e.map((e=>`${function(t,e){const{outputHeight:n,outputWidth:i,aspectRatio:r}=t;let o=Math.max(0,Math.min(i,e));const a=i/o;let u,c=Math.floor(n/a);return!i&&r&&(o=e,c=o/r),o&&(u=`w:${o}`,c&&(u+=`,h:${c}`),u+=",cg:true,m,i:true"),f("//img1.wsimg.com/isteam/ip/static/transparent_placeholder.png",{rs:u,qt:"q:1"})}(t,e)} ${e}w`))},t.i=l,t.j=function(t){if(!t)return"";const n=(g(t)||"").replace(/(\n)/gm," ");return`(function(){${e.c};var i=new Image();i.onload=window.markVisuallyComplete;i.srcset="${n||t}";i.src="${t}";})()`},t.k=function(t={}){const{outputHeight:e,outputWidth:n,editedAspectRatio:i}=t,{height:r,width:o}=function({oWidth:t,oHeight:e,rotation:n}){const i=parseInt(n||0,10)%180>0;return{height:i?t:e,width:i?e:t}}(t),a=i||n&&e&&n/e||o/r;if(isNaN(a)||!isFinite(a))return{};const u=e||n/a,c=n||e*a;return{outputHeight:u&&c?u:r,outputWidth:u&&c?c:o,aspectRatio:a}},t.l=a,t.m=u,t.r=function(t,e=""){return t&&"string"==typeof t?t.replace(/\/:\/rs=w:[0-9]*,h:[0-9]*/,e):""}})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=bs-headerTreatments-b847f139.js.map
